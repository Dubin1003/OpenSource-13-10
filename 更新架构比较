项目介绍
Eucalyptus 英文全称Elastic Utility Computing Architecture for Linking Your Programs To Useful Systems,是一种开源的软件基础结构，用来通过计算集群或工作站群实现弹性的、实用的云计算。它最初是美国加利福尼亚大学 Santa Barbara 计算机科学学院的一个研究项目，现在已经商业化，发展成为了 Eucalyptus Systems Inc。不过，Eucalyptus 仍然按开源项目那样维护和开发。Eucalyptus Systems 还在基于开源的 Eucalyptus 构建额外的产品；它还提供支持服务。 Eucalyptus云计算软件，在一个平台上（分为open source版和enterprise版），提供了对这些资源的抽象。Eucalyptus的源码是公开的。并且有提供给CentOS 5，Debian squeeze，OpenSUSE 11，Fedora 12的软件包。 Eucalyptus选择Xen和KVM作为虚拟化的管理程序。目前版本是3.2。Eucalyptus的enterprise版已经对vSphere ESX/ESXi提供了支持。
OpenStack是一个美国国家航空航天局和Rackspace合作研发的，以Apache许可证授权，并且是一个自由软件和开放源代码项目。 OpenStack是一个云平台管理的项目，它不是一个软件。这个项目由几个主要的组件组合起来完成一些具体的工作。 OpenStack是一个旨在为公共及私有云的建设与管理提供软件的开源项目。它的社区拥有超过130家企业及1350位开发者，这些机构与个人都将OpenStack作为基础设施即服务（简称IaaS）资源的通用前端。OpenStack项目的首要任务是简化云的部署过程并为其带来良好的可扩展性。本文希望通过提供必要的指导信息，帮助大家利用OpenStack前端来设置及管理自己的公共云或私有云。 OpenStack 是由 Rackspace 和 NASA 共同开发的云计算平台，帮助服务商和企业内部实现类似于 Amazon EC2 和 S3 的云基础架构服务(Infrastructure as a Service, IaaS)。OpenStack 包含两个主要模块：Nova 和 Swift，前者是 NASA 开发的虚拟服务器部署和业务计算模块；后者是 Rackspace开发的分布式云存储模块，两者可以一起用，也可以分开单独用。OpenStack 是开源项目，除了有 Rackspace 和 NASA 的大力支持外，后面还有包括 Dell、Citrix、 Cisco、 Canonical 这些重量级公司的贡献和支持，发展速度非常快。
功能比较
这个平台使用更方便的最大的优势之一是Eucalyptus API全面兼容亚马逊API。因此，基于亚马逊API的所有的脚本和软件产品都可以轻松地为你的私有云部署。Eucalyptus支持三个管理程序：XEN、KVM和ESXi。最后一个管理程序仅向企业云版用户提供。
主要特点：
•	任务（分配和管理权限）
•	不依赖于任何管理程序。
•	集群与分区。
•	灵活的网络管理、安全组和流量隔离。
Openstack项目包括三个产品：Nova （类似于亚马逊的EC2）、Swift （类似于亚马逊S3）和Glance（一种为虚拟硬盘镜像提供发现、注册和交付服务的API服务器）。Swift为可访问的许多PB（1PB = 100万GB）数据提供可扩展的对象存储。目前，Nova全面支持两个管理程序：KVM和XEN。这个平台正在迅速地开发并且很快将提供更广泛的功能。
主要特点：
•	能够管理虚拟化的商品服务器资源
•	能够管理局域网
•	虚拟机镜像管理
•	安全组
•	基于任务的访问控制
•	项目与配额
•	通过网络浏览器的VNC（虚拟网络计算机）代理
各功能节点比较
 	前端	计算节点	备注
Eucalyptus	使用ubuntu10.04或者Centos5.5操作系统,通过apt-get install或者yum install的方式直接安装二进制包,构建一个包含CLC,Walrus,SC,CC的前端.根据官方网站提供的文档进行操作,是比较容易实现的。	使用ubuntu10.04或者Centos5.5操作系统，通过apt-get install或者yum install 的方式直接安装二进制包，构建一个提供NC服务的计算节点。根据官方网站提供的文档进行操作，是比较容易实现的。	Eucalyptus包含了一个dhcpd，如果配置不好的话，会造成一定的麻烦。另外，计算节点（NC）与集群控制器（CC）必须在一个C类之网里。如果NC和CC在一个超网里，在注册服务的时候会出现一些问题。
OpenStack	在ubuntu10.04上利用官方网站提供的nova-install脚本进行安装，基本上没有遇到问题	在ubuntu10.04上利用官方网站提供的nova-install脚本进行安装，基本上没有遇到问题	对于一个简单的系统，安装配置比较简单。
几种虚拟化技术支持
 	Xen	KVM	XenServer/XCP	VMWare	LXC	openVZ
Eucalyptus	Y	Y	 	Y	 	 
OpenStack	Y	Y	Y	Y	Y	 
其他比较
一、授权协议和许可证管理
	授权协议	许可管理	商业模式
Eucalyptus	社区版	GPLv3授权协议	不需要安装许可	社区版免费使用
	企业版	使用自定义的商业授权协议	需要在云控制器(CLC)节点上安装许可证	按处理器核心总数收费，用户购买的许可证针对特定版本永久有效。
OpenStack	Apache 2.0 授权协议	不需要许可证	免费使用
二、项目历史、运营团队、社区规模
	项目历史与运营团队	社区规模和活跃程度	沟通交流
Eucalyptus	最初是UCSB的HPC研究项目，2009年初成立公司来支持项目的商业化运营。现任CEO是曾担任MySQL CEO的Marten Mickos,现任工程部门SVP的Tim Cramerc曾担任Sun公司NetBeans和OpenSolaris项目的执行总监。整个管理团队对开放源代码项目的管理和运营方面具有丰富的经验。	在同类开放源代码项目当中，Encalyptus的社区规模最大，活跃程度也最高。主要原因是该项目起源于大学研究项目，次要原因是管理团队对开放源代码理念的高度认同。Ubuntu 10.04服务器版选择Encalyptus作为UEC的基础构架，大大的促进了Encalyptus.	社区发表在论坛上的问题通常在48小时内得到回应，通过技术支持电子邮件提出的问题通常在24小时内得到回应。Encalyptus在北京和深圳设有办事处，在中国有工程师提供支持团队。
OpenStack	OpenStack是服务器托管公司RackSpace与NASA共同发起的开放源代码项目。在开放源代码项目的管理和运营方面，RackSpace和NASA显然缺乏足够的经验。针对OpenStack项目的批评集中在(1)RackSpace对项目有过于强烈的控制欲；(2)OpenStack项目的运作对于社区成员来说基本上是不透明的；(3)OpenStack项目对同类开放源代码项目的攻击性过强。	社区规模较小，主要参与者支持/参与该项目的公司人员。有几个公开的邮件列表，流量很小，由于该项目比较新，在网络上可以参考的安装与配置方面的文章不多。Ubuntu11.04服务器版同时支持Encalyptus和OpenStack作为UEC的基础构架，将有助于OpenStack的推广。	通过邮件列表进行技术方面的沟通，通常在48小时内得到回应。商务方面的邮件沟通，回应较为缓慢。
三、架构方面的比较
•	Eucalyptus架构 > Eucalyptus是一个与Amazon EC2兼容的IaaS系统。Eucalyptus包括云控制器(CLC)、Walrus、集群控制器(CC)、存储控制器(SC)和节点控制器(NC)。CLC是整个Eucalyptu系统的核心，负责高层次的资源调度，例如向CC请求计算资源。Walrus是 一个与Amazon S3类似的存储服务，主要用于存储虚拟机映像和用户数据。CC是一个集群的前端，负责协调一个集群内的计算资源，并且管理集群内的网络流量。SC是一个与Amazon EBS类似的存储块设备服务，可以用来存储业务数据。NC是最终的计算节点，通过调用操作系统层的虚拟化技术来启动和关闭虚拟机。在同一个集群(CC)内的所有计算节点(NC)必须在同一个子网内。 在一个集群(CC)内通常需要部署一台存储服务器(SC)，为该集群内的计算节点提供数据存储服务。
Eucalyptus通过Agent的方式来管理计算资源。在每一个计算节点上，都需要运行一个eucalyptus-nc的服务。该服务在集群控制器(CC)上注册后，云控制器(CLC)即可通过集群控制器(CLC)将需要运行的虚拟机映像文件(EMI)拷贝到该计算节点上运行。
Eucalyptus将虚拟机映像文件存储在Walrus上。当用户启动一个虚拟机实例的时候，Eucalyptus首先将相应的虚拟机映像(EMI)从Walrus拷贝到将要运行该实例的计算节点(NC)上。当用户关闭(或者是由于意外而重启)一个虚拟机实例的时候，对虚拟机所做的修改并不会被写回到Walrus上原来的虚拟机映像(EMI)上，所有对该虚拟机的修改都会丢失。如果用户需要保存修改过的虚拟机，就需要利用工具(euca2ools)将该虚拟机实例保存为新的虚拟机映像(EMI)。如果用户需要保存数据，则需要利用存储服务器(SC)所提供的弹性块设备来完成。
社区版采用GPLv3授权协议 社区版不需要安装许可
Eucalyptus 包含五个主要组件，它们能相互协作共同提供所需的云服务。这些组件使用具有 WS-Security 的 SOAP 消息传递安全地相互通信。
Cloud Controller (CLC)在 Eucalyptus 云内，这是主要的控制器组件，负责管理整个系统。它是所有用户和管理员进入 Eucalyptus 云的主要入口。所有客户机通过基于 SOAP 或 REST 的 API 只与 CLC 通信。由 CLC 负责将请求传递给正确的组件、收集它们并将来自这些组件的响应发送回至该客户机。这是 Eucalyptus 云的对外 “窗口”。
Cluster Controller (CC)Eucalyptus 内的这个控制器组件负责管理整个虚拟实例网络。请求通过基于 SOAP 或 REST 的接口被送至 CC。CC 维护有关运行在系统内的 Node Controller 的全部信息，并负责控制这些实例的生命周期。它将开启虚拟实例的请求路由到具有可用资源的 Node Controller。
Node Controller (NC)它控制主机操作系统及相应的 hypervisor（X 
 
en 或最近的 KVM，很快就会支持 VMWare）。必须在托管了实际的虚拟实例（根据来自 CC 的请求实例化）的每个机器上运行 NC 的一个实例。
Walrus (W)这个控制器组件管理对 Eucalyptus 内的存储服务的访问。请求通过基于 SOAP 或 REST 的接口传递至 Walrus。
Storage Controller (SC)Eucalyptus 内的这个存储服务实现 Amazon 的 S3 接口。SC 与 Walrus 联合工作，用于存储和访问虚拟机映像、内核映像、RAM 磁盘映像和用户数据。其中，VM 映像可以是公共的，也可以是私有的，并最初以压缩和加密的格式存储。这些映像只有在某个节点需要启动一个新的实例并请求访问此映像时才会被解密。
一个 Eucalyptus 云安装可以聚合和管理来自一个或多个集群的资源。一个集群 是连接到相同 LAN 的一组机器 
 
。在一个集群中，可以有一个或多个 NC 实例，每个实例管理虚拟实例的实例化和终止。
在一个单一集群的安装中，如图 3 所示，将至少包含两个机器：一个机器运行 CC、SC 和 CLC；另一个机器运行 NC。这种配置主要适合于试验的目的以及快速配置的目的。通过将所有东西都组合到一个机器内，还可以进一步简化，但这个机器需要非常健壮才能这样做。
一个单集群 Eucalyptus 安装的拓扑
在多集群安装中，可以将各个组件（CC、SC、 NC 和 CLC）放置在单独的机器上。如果想要用它来执行重大的任务，那么这么做就是一种配置 Eucalyptus 云的理想方式。多集群安装还能通过选择与其上运行的控制器类型相适应的机器来显著提高性能。比如，可以选择一个具有超快 CPU 的机器来运行 CLC。多集群的结果是可用性的提高、负载和资源的跨集群分布。集群的概念类似于 Amazon EC2 内的可用性区域的概念。资源可以跨多个可用性区域分配，这样一来，一个区域内的故障不会影响到整个应用程序。

•	OpenStack架构 > OpenStack是一个与Amazon EC2兼容的IaaS系统。OpenStack包括OpenStack Compute和OpenStack Object Storage两个部分。
OpenStack Compute又包含Web前端、计算服务、存储服务、身份认证服务、存储块设备(卷)服务、网络服务、任务调度等多个模块。OpenStack Compute的不同模块之间不共享任何信息，通过消息传递进行通讯。因此，不同的模块可以运行在不同的服务器上，也可以运行在同一台服务器上。
OpenStack Object Store可以利用通用服务器搭建可扩展的海量数据仓库，并且通过冗余来保证数据的安全性。同一份数据的在多台服务器上都有副本，将出现故障的服务器从集群中撤除不会影响数据的完整性，加入新的服务器后系统会自动地在新的服务器上为相应的文件创建新的副本。从功能上讲，OpenStack Object Store同时具备Eucalyptus中的Walrus服务和弹性块设备(SC)服务。不过OpenStack Object Store不是一个文件系统，不能够保证数据的实时性。从这个方面来考虑，OpenStack Object Store更适合用于存储需要长期保存的静态数据，例如操作系统映像文件和多媒体数据。
OpenStack通过Agent的方式来管理计算资源。在每一个计算节点上，都需要运行nova-network服务和nova-compute服务。这些服务启动之后，就可以通过消息队列来与云控制器进行交互。
OpenStack Compute由一些主要组件组成。“Cloud controller”包含很多组件，它表示全局状态，以及与其他组件交互。实际上，它提供的是Nova-api服务。它的功能是：为所有API查询提供一个端点，初始化绝大多数的部署活动，以及实施一些策略。API 服务器起cloud controller web Service前端的作用。Compute controller 提供compute服务资源，典型包含compute service，Object Store component可选地提供存储服务。Auth manager提供认证和授权服务，Volume controller为compute servers提供快速和持久的块级别存储。Network controller提供虚拟网络使compute servers彼此交互以及与公网进行交互。Scheduler选择最合适的compute controller来管理(host)一个实例。
OpenStack Compute建立在无共享、基于消息的架构上。Cloud controller通过HTTP与internal object store交互，通过AMQP和scheduler、network controller、 和volume controller 来进行通信。为了避免在等待接收时阻塞每个组件，OpenStack Compute用异步调用的方式。
为了获得带有一个组件多个备份的无共享属性，OpenStack Compute将所有的云系统状态保持在分布式的数据存储中。对系统状态的更新会写到这个存储中，必要时用质子事务。
对系统状态的请求会从store中读出。在少数情况下，控制器也会短时间缓存读取结果。

结合自身需要评估后的结论
Eucalyptus的架构由五个部分组成，与AWS类似，安装难度为中等水平，其GUI管理功能有限，需要大量来自相应命令行的帮助。此外，Eucalyptus还有一个密钥管理安全模式。在该模式中，五个架构组件需要彼此注册。Eucalyptus的整体度更好。另外，通过CLC，Eucalyptus可以支持集群的集群，所以，Eucalyptus的扩展性更强，更容易满足业务扩展的需要。
Openstack项目发展较快，也得到了较多大的厂商支持。但openstack的模块结构相对碎片化，安装难度较高，维护门槛较高，不利于当前运维人员使用。
因此，综合评估后，Eucalyptus是一套完整的技术解决方案，比OpenStack更容易被用户所接受。因此，Eucalyptus更适合作为当前一段时间内的混合云平台。
组员贡献
王文明 贡献”其他比较“部分
陈琼 贡献”项目介绍，功能比较，结论“部分

